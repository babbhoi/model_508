<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>Hello, world!</title>
    <style type="text/css">
		img.lt{
				-ms-transform: rotate(-45deg); /* IE 9 */
    			-webkit-transform: rotate(-45deg); /* Safari 3-8 */
    			transform: rotate(-45deg);

		}

		img.lb{
				-ms-transform: rotate(45deg); /* IE 9 */
    			-webkit-transform: rotate(45deg); /* Safari 3-8 */
    			transform: rotate(45deg);

		}
		.inv{
			opacity: 0;
		}
		.sideb{
			border-right: 1px solid #ccc;
			border-left: 1px solid #ccc;
		}
		img.cover{

		}
    </style>
  </head>
  <body>
    <h1>Hello, world!</h1>
    <div class="container">
    	<div class="row">
    		<div class="col">
    			<div class="panel panel-default">    
    				<div class="panel-body">
    					Panel Content
    				</div>
  				</div>
    		</div>
    		<div class="col">
    			<div class="panel panel-default">    
    				<div class="panel-body">
    					Panel Content
    				</div>
  				</div>
    		</div>
    		<div class="col">
    			<div class="panel panel-default">    
    				<div class="panel-body">
    					Panel Content
    				</div>
  				</div>
    		</div>
    		<div class="col">
    			<div class="panel panel-default">    
    				<div class="panel-body">
    					Panel Content
    				</div>
  				</div>
    		</div>
    		<div class="col">
    			<div class="panel panel-default">    
    				<div class="panel-body">
    					Panel Content
    				</div>
  				</div>
    		</div>
    		<div class="col">
    			<div class="panel panel-default">    
    				<div class="panel-body">
    					Panel Content
    				</div>
  				</div>
    		</div>

    	</div>

	  <div class="row">

	    <div class="col-sm" id="trc">
	      One of three columns--this will contaain the video section
	    </div>

	    <div class="col-sm sideb">
	      <div class="row align-items-center">
	      	<div class="col-4">
	      		<img src="/client/img/cool.jpg" id="p5" class="img-thumbnail lt" alt="Cinque Terre" width=70% height=auto>hinbfj</img> 

	      		<img src="/client/img/cool.jpg" id="p6" class="img-thumbnail lb" alt="Cinque Terre" width=70% height=auto>hinbfj2</img>  

	      	</div>
	      	<div class="col-4">
	      		<img src="/client/img/cool.jpg" id="p4" class="img-thumbnail" alt="Cinque Terre" width=70% height=auto>
		      	<img src="/client/img/cool.jpg" id="p0" class="img-thumbnail inv" alt="Cinque Terre" width=70% height=auto>
		      	<img src="/client/img/cool.jpg" id="p1" class="img-thumbnail" alt="Cinque Terre" width=70% height=auto>hinbfj</img> 
	      	</div>
	      	
	      	<div class="col-4">
	      		<img src="/client/img/cool.jpg" id="p3" class="img-thumbnail lb" alt="Cinque Terre" width=70% height=auto>
		      	<img src="/client/img/cool.jpg" id="p2" class="img-thumbnail lt" alt="Cinque Terre" width=70% height=auto>	      	
	      	</div>
	      </div>
	    </div>

	    <div class="col-sm">
	      	<div class="row">
	      		<div class="col-2" align="center">1</div>
	      		<div class="col-2" align="center">1</div>
	      		<div class="col-2" align="center">1</div>
	      		<div class="col-2" align="center">1</div>
	      		<div class="col-2" align="center">1</div>
	      		<div class="col-2" align="center">1</div>
	      		
	      	</div>
	    </div>

	  </div>
	  <hr>
	  <div class="row">
	  		
	  		
	  				<div class="col-1 offset-md-2"><img src="/client/img/cover.png" id="c1" alt="Cinque Terre" onclick="cardpick(this.id)" width=100% height=auto></div>
	  				<div class="col-1"><img src="/client/img/cover.png" id="c2" alt="Cinque Terre" onclick="cardpick(this.id)" width=100% height=auto></div>
	  				<div class="col-1"><img src="/client/img/cover.png" id="c3" alt="Cinque Terre" onclick="cardpick(this.id)" width=100% height=auto></div>
	  				<div class="col-1"><img src="/client/img/cover.png" id="c4" alt="Cinque Terre" onclick="cardpick(this.id)" width=100% height=auto></div>
	  				<div class="col-1"><img src="/client/img/cover.png" id="c5" alt="Cinque Terre" onclick="cardpick(this.id)" width=100% height=auto></div>
	  				<div class="col-1"><img src="/client/img/cover.png" id="c6" alt="Cinque Terre" onclick="cardpick(this.id)" width=100% height=auto></div>
	  				<div class="col-1"><img src="/client/img/cover.png" id="c7" alt="Cinque Terre" onclick="cardpick(this.id)" width=100% height=auto></div>
	  				<div class="col-1"><img src="/client/img/cover.png" id="c8" alt="Cinque Terre" onclick="cardpick(this.id)" width=100% height=auto></div>
	  				     		
		      		

	  		
	  </div>
	</div>
	<script src="/socket.io/socket.io.js"></script>
		<script>
				var socket=io();
				var id=0;
				var srcs={};
				var ent=false;

				socket.on('e',function(data){
					document.body.innerHTML="Server is already full try next time!";         
					
					socket.emit('dummy',{});
					socket.disconnect();
			
				});

				socket.on('plrdy',function(data){
					var count=0;
					for(i in data){
						
						if(data[i].id==id){
							ent=true;
						}
						if(ent){
							count++;
							srcs[data[i].id]="p"+count;
						}
					}

					for(i in data){
						count++;
						if(data[i].id==id){
							break;
						}
						
						srcs[data[i].id]="p"+count;
						
					}
					for(i in data){
						document.getElementById("trc").innerHTML+="<br>"+data[i].id+": "+data[i].n;

						document.getElementById(srcs[data[i].id]).src="/client/img/ser/card ("+data[i].n+").png";
					}
				});

				socket.on('success',function(data){
					id=data.uid;
					document.getElementById("trc").innerHTML=id;
					//document.getElementById("my_card").src="/client/img/tonystark.jpg";
				});


				
		</script>

    <!-- Optional JavaScript -->
    <script type="text/javascript">

    	var card_s={};


    	function cardpick(card_id) {
    		//$("#imageID").attr('src', 'srcImage.jpg');
    		//document.getElementById(card_id).src="tonystark.jpg";
    		var element = document.getElementById(card_id);
			element.style.opacity = "0.2";
			element.style.filter  = 'alpha(opacity=20)'; // IE fallback
			var n;
			if (card_id=="c2") {n=5;}
				else
					n=7;

    		document.getElementById("p1").src="/client/img/hrt-0"+n+".png";

    		// socket.emit('played',{
    			
    		// 	card_n:n  
    		// });
			socket.emit('test',{
				myid:n
			});

			socket.on('')//for assigning table card view

    		//alert(card_id); 		
		}

		var getcard_src=function (nm){
			if (nm<13) {
				return "clb-0"+nm;
			}
			else
			if (nm<25) {
				return "dmd-0"+nm-12;
			}
			else
			if (nm<37) {
				return "hrt-0"+nm-24;
			}
			else
				return "spd-0"+nm-36;

		}

		



    </script>
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
</html>